if filereadable(expand("~/.vimrc.before"))
  source ~/.vimrc.before
endif

set nocompatible
set rtp+=~/.vim

call plug#begin('~/.vim/plugged')
  Plug 'aalvarado/my_snippets'
  Plug 'airblade/vim-gitgutter'
  Plug 'AndrewRadev/splitjoin.vim'
  Plug 'andymass/vim-matchup'
  Plug 'bling/vim-airline'
  Plug 'bronson/vim-visual-star-search'
  Plug 'dracula/vim', { 'as': 'dracula' }
  Plug 'ervandew/supertab'
  Plug 'junegunn/vim-easy-align'
  Plug 'kana/vim-textobj-user'
  Plug 'kchmck/vim-coffee-script'
  Plug 'leafgarland/typescript-vim'
  Plug 'ludovicchabant/vim-gutentags'
  Plug 'michaeljsmith/vim-indent-object'
  Plug 'mileszs/ack.vim'
  Plug 'mxw/vim-jsx'
  Plug 'nathanaelkane/vim-indent-guides'
  Plug 'neovimhaskell/haskell-vim'
  Plug 'pangloss/vim-javascript'
  Plug 'scrooloose/nerdcommenter'
  Plug 'SirVer/ultisnips'
  Plug 'sjbach/lusty'
  Plug 'slim-template/vim-slim'
  Plug 'tpope/vim-abolish'
  Plug 'tpope/vim-eunuch'
  Plug 'tpope/vim-fugitive'
  Plug 'tpope/vim-rails'
  Plug 'tpope/vim-repeat'
  Plug 'tpope/vim-surround'
  Plug 'vim-ruby/vim-ruby'
  Plug 'vim-scripts/CmdlineComplete'
  Plug 'vim-syntastic/syntastic'
  Plug 'w0rp/ale'
  Plug 'whatyouhide/vim-textobj-erb'
call plug#end()

if has('win32') || has('win64')
  set shell=cmd.exe
  set shellxquote=
endif

" General {
  filetype plugin on
  setglobal nobomb
  set autoindent
  set whichwrap=b,s,h,l,<,>,[,]
  set backspace=indent,eol,start
  set clipboard=unnamed
  set encoding=utf-8
  set expandtab
  set fileformats=unix
  set fileencoding=utf-8
  set ignorecase
  set hidden
  set history=1000
  set hlsearch
  set mouse=a
  set noswapfile
  set shiftwidth=2
  set showcmd
  set softtabstop=2
  set smartcase
  set tabstop=2
  set wildmenu
  set wildmode=list:longest

  syntax on
" }

" Scroll {
  set scrolloff=20
" }

" Visual {
  set incsearch
  set hlsearch
  set laststatus=2

  set guioptions=i
  set number
  set ruler
  set shortmess=I
  set wrap
" }

  set belloff=all
  if has("autocmd") && has("gui")
    au GUIEnter * set t_vb=
  endif

" Plugins {
  let g:dracula_bold = 0
  let g:dracula_italic = 0

  colorscheme dracula

  let g:matchup_matchparen_deferred = 1

  set rtp+=~/.vim/plugged
  let g:UltiSnipsSnippetsDir = "~/.vim/plugged/my_snippets"
  let g:UltiSnipsSnippetDirectories=["my_snippets"]
  let g:UltiSnipsEditSplit="horizontal"
  let g:UltiSnipsJumpBackwardTrigger = "<c-l>"

  if !has('gui_running')
    hi Normal ctermbg=black
  endif

  let g:indent_guides_enable_on_vim_startup = 1
  let g:indent_guides_guide_size = 1

  call airline#parts#define_accent('mode', 'none')
  call airline#parts#define_accent('linenr', 'none')
  call airline#parts#define_accent('maxlinenr', 'none')
  let g:airline_powerline_fonts = 1
  let g:airline#extensions#capslock#enabled = 1
  let g:airline#extensions#tabline#enabled = 1
  let g:airline#extensions#tabline#show_splits = 0
  let g:airline#extensions#tabline#show_buffers = 0

  let g:surround_35 = "#{\r}" " #
  let g:LustyExplorerAlwaysShowDotFiles = 1
" }

" Customizations {
  nmap <F9> :set ignorecase! ignorecase?

  nmap <silent> <leader>/ :nohlsearch<CR>

  au BufRead,BufNewFile *.elm set shiftwidth=4 softtabstop=4
" }
"
if filereadable(expand("~/.vimrc.after"))
  source ~/.vimrc.after
endif
